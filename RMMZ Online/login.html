<!doctype html><html><head><meta charset="UTF-8"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="user-scalable=no"><link rel="icon" href="icon/icon.png" type="image/png"><link rel="apple-touch-icon" href="icon/icon.png"><title>Login</title><style type="text/css">body{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100vh;margin:0;overflow:hidden;user-select:none}#loginForm{background-color:rgba(0,0,0,.4);border-radius:8px;left:50vw;margin:0 auto;padding:8px;position:fixed;top:75vh;transform:translate(-50%,-50%);width:360px}.actionButton{background-color:#f0f0f0;border:0;border-radius:8px;box-shadow:0 6px #777;cursor:pointer;font-size:24px;margin:0 4px;padding:8px}.actionButton:hover{background-color:#ddd}.actionButton:active{background-color:#ccc;box-shadow:0 4px #555;transform:translateY(2px)}#inputContainer{margin-bottom:8px;margin-top:12px}#username{margin:0 auto 8px}#password,#username{border-radius:4px;display:block;font-size:24px;padding:4px}#password{margin:0 auto}#savePassContainer{color:#4d4d4d;font-size:18px;margin-bottom:0;margin-top:12px;text-align:center}#remember{cursor:pointer;margin-right:4px;transform:scale(1.5)}#loginErrBox{background-color:#ff9898;border:2px solid #a31414;border-radius:8px;color:#a31414;display:none;font-family:Comic Sans,arial;font-size:24px;font-style:italic;margin:0 auto 8px;padding-bottom:4px;padding-top:4px;text-align:center;text-wrap:wrap;width:80%}#actionContainer{display:flex;justify-content:center;margin-bottom:16px}.cursorPointer{cursor:pointer}</style></head><body style="background-color: black"><div id="loginForm"><div><div id="inputContainer"><input id="username" placeholder="Username" class="login-input" autocomplete="off"> <input id="password" type="password" placeholder="Password" class="login-input" autocomplete="off"></div><div id="loginErrBox">Error</div><div id="actionContainer"><button id="login" class="actionButton">Enter</button> <button id="create" class="actionButton">Create</button></div></div></div><script defer="defer">(()=>{"use strict";var __webpack_modules__={26:(e,t,r)=>{r.d(t,{n:()=>o});const n=window;let a;async function o(e){return await(n.$plugins?Promise.resolve(n.$plugins):(a||(a=new Promise(((e,t)=>{const r=document.createElement("script");r.type="text/javascript",r.src="js/plugins.js",r.async=!1,r.defer=!0,r.onerror=t,r.onload=()=>e(n.$plugins),document.body.appendChild(r)}))),a)),function(e){return e=e.toLowerCase(),n.$plugins.find((t=>t.status&&t.name.toLowerCase()===e))?.parameters}(e)}},113:(e,t,r)=>{r.d(t,{J:()=>_});var n=r(26);async function a(){const e=await(0,n.n)("MMORPG_Client");if(!e)return"";const{ssl:t,address:r}=e;return`${"true"==t?"https":"http"}://${r}`}function o(e,t,r){if(!e)throw new Error("invalid address");return fetch(`${e}${t}`,r)}function _(e){const t={method:"GET"};return a().then((r=>o(r,e,t)))}},525:(e,t,r)=>{r.d(t,{WG:()=>n});r(537);function n(e){e?localStorage.setItem("WS_TOKEN",e):localStorage.removeItem("WS_TOKEN")}},537:(e,t,r)=>{class n extends Error{}n.prototype.name="InvalidTokenError"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={},_plugins__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),_request__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(113),_token__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(525);function inputUsername(){return document.getElementsByTagName("input").namedItem("username")}function inputPassword(){return document.getElementsByTagName("input").namedItem("password")}function buttonLogin(){return document.getElementsByTagName("button").namedItem("login")}function buttonCreate(){return document.getElementsByTagName("button").namedItem("create")}function setDisabled(e){inputUsername().disabled=e,inputPassword().disabled=e,buttonLogin().disabled=e,buttonCreate().disabled=e}async function onLogin(){setError(null);const e=inputUsername().value.trim(),t=inputPassword().value.trim();if(e.length<3)return setError("Invalid username.");if(t.length<3)return setError("Invalid password.");setDisabled(!0);try{const r=new URLSearchParams({user:e,pass:t}),n=await(0,_request__WEBPACK_IMPORTED_MODULE_1__.J)("/api/auth/login?"+r.toString());if(!n.ok)return setError("Invalid credentials.");const a=await n.text();(0,_token__WEBPACK_IMPORTED_MODULE_2__.WG)(a),location.href="index.html"}catch{setError("Can't connect.")}finally{setDisabled(!1)}}async function onCreate(){setError(null);const e=inputUsername().value.trim(),t=inputPassword().value.trim();if(e.length<3)return setError("Invalid username.");if(t.length<3)return setError("Invalid password.");setDisabled(!0);try{const r=new URLSearchParams({user:e,pass:t}),n=await(0,_request__WEBPACK_IMPORTED_MODULE_1__.J)("/api/auth/create?"+r.toString());if(!n.ok)return setError("Invalid credentials.");const a=await n.text();(0,_token__WEBPACK_IMPORTED_MODULE_2__.WG)(a),location.href="index.html"}catch{setError("Can't connect.")}finally{setDisabled(!1)}}function setError(e){const t=document.getElementById("loginErrBox");t.innerText=e||"",t.style.display=e?"block":"none"}buttonLogin().onclick=()=>onLogin().catch(console.error),buttonCreate().onclick=()=>onCreate().catch(console.error),inputUsername().focus(),(0,_plugins__WEBPACK_IMPORTED_MODULE_0__.n)("MMORPG_Client").then((e=>e?.loginImage)).then((img=>{if(!img)return;const array=eval(img);if(!Array.isArray(array)||array.length<1)return;const value=`url(${array[Math.floor(Math.random()*array.length)]}.png)`;document.body.style.backgroundImage=value})).catch(console.error)})();</script></body></html>